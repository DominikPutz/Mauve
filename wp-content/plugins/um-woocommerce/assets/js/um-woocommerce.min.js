function um_wc_display_order(e,t){return void 0===t&&void 0!==e.currentTarget&&(e.preventDefault(e),t=jQuery(e.currentTarget).parents("tr").data("order_id"),window.history.pushState("string","Orders",jQuery(e.currentTarget).attr("href"))),wp.ajax.send("um_woocommerce_get_order",{data:{order_id:t,nonce:um_scripts.nonce},beforeSend:prepare_Modal,success:function(e){e?(show_Modal(e),responsive_Modal()):remove_Modal()},error:function(e){remove_Modal(),console.log("===UM Woocommerce error===",e)}})}function um_wc_display_subscription(e,t){return void 0===t&&void 0!==e.currentTarget&&(e.preventDefault(e),t=jQuery(e.currentTarget).attr("href").split("subscription/#").pop(),window.history.pushState("string","Subscriptions",jQuery(e.currentTarget).attr("href"))),wp.ajax.send("um_woocommerce_get_subscription",{data:{subscription_id:t,nonce:um_scripts.nonce},beforeSend:function(){jQuery(".woocommerce_account_subscriptions").css({cursor:"wait",opacity:"0.7"})},success:function(e){jQuery(".woocommerce_account_subscriptions").hide().after(e),jQuery(".um_account_subscription").fadeIn()},error:function(e){console.log("===UM Woocommerce error===",e)}})}function um_wc_refresh_address(e,r){var o;wp.ajax.send("um_woocommerce_refresh_address",{data:{nonce:um_scripts.nonce,country:e,type:r},success:function(e){var t=".um-field-billing_state";"shipping_country"===r&&(t=".um-field-shipping_state"),0<jQuery(t+" .um-field-error").length&&(o=jQuery(t+" .um-field-error").clone()),jQuery(t).html(e).contents().unwrap(),0<jQuery(t+" select").length?jQuery(t+" select").select2({width:"100%"}):0<jQuery(t+' input[type = "hidden"]').length?jQuery(t).hide():jQuery(t).show(),o&&jQuery(t).append(o)},error:function(e){console.log("===UM Woocommerce error===",e)}})}jQuery(document).ready(function(e){(jQuery(".um-woo-review-avg").length&&jQuery(".um-woo-review-avg").um_raty({half:!0,starType:"i",number:function(){return jQuery(this).attr("data-number")},score:function(){return jQuery(this).attr("data-score")},hints:["1 Star","2 Star","3 Star","4 Star","5 Star"],space:!1,readOnly:!0}),jQuery(document.body).on("change",".um-field #billing_country, .um-field #shipping_country",function(){um_wc_refresh_address(jQuery(this).val(),jQuery(this).data("key"))}),jQuery(".um-account-tab select.country_select, .um-account-tab select.state_select, .um-custom-shortcode-tab select").length&&jQuery(".um-account-tab select.country_select, .um-account-tab select.state_select, .um-custom-shortcode-tab select").select2({width:"100%"}),0<jQuery(".um-account-tab .um-field-state .um-field-error").length)&&um_wc_refresh_address(jQuery(".um-account-tab .um-field-country:visible select").val(),jQuery(".um-account-tab .um-field-country:visible select").data("key"));(jQuery(document.body).on("click",".um-woo-orders .um-woo-view-order",um_wc_display_order),jQuery(document.body).on("click",".um-woo-order-hide",function(e){return e.preventDefault(),window.history.pushState("string","Orders",window.location.pathname),remove_Modal(),!1}),-1<window.location.href.indexOf("orders/#"))&&um_wc_display_order(e,window.location.href.split("orders/#").pop());(jQuery(document.body).on("click",".um-woo-subscriptions a.button.view, .um-woo-subscriptions .subscription-id > a",um_wc_display_subscription),jQuery(document.body).on("click",".back_to_subscriptions",function(e){return e.preventDefault(),window.history.pushState("string","Subscriptions",window.location.pathname),jQuery(".woocommerce_account_subscriptions").removeAttr("style").fadeIn().nextAll(".um_account_subscription").remove(),!1}),-1<window.location.href.indexOf("subscription/#"))&&um_wc_display_subscription(e,window.location.href.split("subscription/#").pop());jQuery(document.body).on("click",'a[href*="add-payment-method"]',function(e){if(e.preventDefault(),!/add-payment-method=1/.test(location.href)){var t=location.href+(/\?/.test(location.href)?"&":"?")+"add-payment-method=1";window.history.pushState("string","Add payment method",t)}void 0===window.umAddPaymentMethod&&(window.umAddPaymentMethod=jQuery("#um_add_payment_method_content").html().trim(),jQuery("#um_add_payment_method_content").remove()),window.umAddPaymentMethod&&(prepare_Modal(),show_Modal(window.umAddPaymentMethod),responsive_Modal())}),/add-payment-method=1/.test(location.href)&&jQuery('a[href*="add-payment-method"]').length&&jQuery('a[href*="add-payment-method"]').trigger("click")});