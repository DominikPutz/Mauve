!function s(u,o,i){function c(t,e){if(!o[t]){if(!u[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(d)return d(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var a=o[t]={exports:{}};u[t][0].call(a.exports,function(e){return c(u[t][1][e]||e)},a,a.exports,s,u,o,i)}return o[t].exports}for(var d="function"==typeof require&&require,e=0;e<i.length;e++)c(i[e]);return c}({1:[function(e,t,n){"use strict";document.addEventListener("DOMContentLoaded",function(e){var t=document.getElementById("mauve-show-auth-form"),n=document.getElementById("mauve-auth-container"),r=document.getElementById("mauve-auth-close"),s=document.getElementById("mauve-auth-form"),u=s.querySelector('[data-message="status"]');function o(){u.innerHTML="",u.classList.remove("success","error"),s.querySelector('[name="submit"]').value="Login",s.querySelector('[name="submit"]').disabled=!1}t.addEventListener("click",function(){n.classList.add("show"),t.parentElement.classList.add("hide")}),r.addEventListener("click",function(){n.classList.remove("show"),t.parentElement.classList.remove("hide")}),s.addEventListener("submit",function(e){e.preventDefault(),o();var t=s.querySelector('[name="username"]').value,n=s.querySelector('[name="password"]').value;s.querySelector('[name="mauve_auth"]').value;if(!t||!n)return u.innerHTML="Missing Data",void u.classList.add("error");var r=s.dataset.url,a=new URLSearchParams(new FormData(s));s.querySelector('[name="submit"]').value="Logging in...",s.querySelector('[name="submit"]').disabled=!0,fetch(r,{method:"POST",body:a}).then(function(e){return e.json()}).catch(function(e){o()}).then(function(e){if(o(),0===e||!e.status)return u.innerHTML=e.message,void u.classList.add("error");u.innerHTML=e.message,u.classList.add("success"),s.reset(),window.location.reload()})})})},{}]},{},[1]);
//# sourceMappingURL=auth.js.map
